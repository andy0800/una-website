<!-- Header -->
<header class="site-header">
  <div class="container">
    <div class="header-content">
      <a href="index.html" class="logo">
        <img src="../images/logo.svg" alt="Distinguished Union Institute Logo" />
        <span class="logo-text">UNA Institute</span>
      </a>

      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="courses.html">Courses</a></li>
          <li><a href="news.html">News</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li id="profileNavItem" style="display: none;">
            <a href="profile.html">My Profile</a>
          </li>
          <li id="lecturesNavItem" style="display: none;">
            <a href="recorded-lectures.html">Recorded Lectures</a>
          </li>
          <li id="liveNavItem" style="display: none;">
            <a href="livestream.html">Live Stream</a>
          </li>
        </ul>
      </nav>

      <!-- Hamburger Menu Button -->
      <button class="hamburger-menu" id="hamburgerMenu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <div class="lang-toggle">
        <span style="color:var(--accent-gold);">EN</span> /
        <a href="#" class="lang-link" id="arLink" lang="ar" hreflang="ar" title="العربية">ع</a>
      </div>
      
      <div class="auth-buttons" id="authButtons">
        <a href="register.html" id="registerBtn">Register</a>
        <a href="login.html" id="loginBtn">Login</a>
        <button id="logoutBtn" style="display: none;">Logout</button>
      </div>
    </div>
  </div>
</header>

<!-- Mobile Navigation Overlay -->
<div class="mobile-nav" id="mobileNav">
  <button class="mobile-nav-close" id="mobileNavClose">
    <i class="fas fa-times"></i>
  </button>
  <div class="mobile-nav-content">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="courses.html">Courses</a></li>
      <li><a href="news.html">News</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li id="mobileProfileNavItem" style="display: none;">
        <a href="profile.html">My Profile</a>
      </li>
      <li id="mobileLecturesNavItem" style="display: none;">
        <a href="recorded-lectures.html">Recorded Lectures</a>
      </li>
      <li id="mobileLiveNavItem" style="display: none;">
        <a href="livestream.html">Live Stream</a>
      </li>
    </ul>
  </div>
</div>

<script>
// Dynamic language switching logic
(function() {
  const arLink = document.getElementById('arLink');
  if (arLink) {
    // Get current page path more reliably
    let currentPage = 'index.html';
    
    // Try multiple methods to get current page
    if (window.location.pathname) {
      const pathParts = window.location.pathname.split('/');
      currentPage = pathParts[pathParts.length - 1] || 'index.html';
    } else if (window.location.href) {
      const urlParts = window.location.href.split('/');
      currentPage = urlParts[urlParts.length - 1] || 'index.html';
    }
    
    // Handle cases where currentPage might be empty
    if (!currentPage || currentPage === '') {
      currentPage = 'index.html';
    }
    
    // Get the current server protocol, hostname, and port
    const protocol = window.location.protocol;
    const hostname = window.location.hostname;
    const port = window.location.port;
    const baseUrl = `${protocol}//${hostname}${port ? ':' + port : ''}`;
    
    // Map English pages to Arabic equivalents with absolute paths
    const pageMap = {
      'index.html': `${baseUrl}/ar/index.html`,
      'about.html': `${baseUrl}/ar/about.html`,
      'courses.html': `${baseUrl}/ar/courses.html`,
      'news.html': `${baseUrl}/ar/news.html`,
      'contact.html': `${baseUrl}/ar/contact.html`,
      'profile.html': `${baseUrl}/ar/profile.html`,
      'livestream.html': `${baseUrl}/ar/livestream.html`,
      'login.html': `${baseUrl}/ar/login.html`,
      'register.html': `${baseUrl}/ar/register.html`,
      'course-details.html': `${baseUrl}/ar/course-details.html`,
      'enroll.html': `${baseUrl}/ar/enroll.html`,
      'recorded-lectures.html': `${baseUrl}/ar/recorded-lectures.html`
    };
    
    // Set the correct Arabic page link
    if (pageMap[currentPage]) {
      arLink.href = pageMap[currentPage];
      console.log(`Language switcher: ${currentPage} -> ${pageMap[currentPage]}`);
    } else {
      arLink.href = `${baseUrl}/ar/index.html`; // Default fallback
      console.log(`Language switcher: ${currentPage} -> default (${baseUrl}/ar/index.html)`);
    }
  }
})();
</script>
