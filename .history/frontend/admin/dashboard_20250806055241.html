<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="css/admin.css" />

  <!-- ✅ Quill CSS -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />
</head>
<body>

  <div class="admin-dashboard">
    <h1>Admin Dashboard</h1>
    <button id="logoutBtn">Logout</button>

    <nav class="admin-nav">
      <button onclick="exportUsersExcel()">📥 Export Users (Excel)</button>
      <button onclick="loadUsers()">View Users</button>
      <button onclick="loadForms()">View Submitted Forms</button>
      <button onclick="loadCourses()">Manage Courses</button>
      <button onclick="showCreateCourseForm()">Create Course</button>
      <button onclick="loadStats()">📊 View Stats</button>
      <button onclick="showCreateUserForm()">➕ Create Student</button>
      <button onclick="showContentEditor()">📝 Edit Website Content</button>
    </nav>

    <div id="adminContent" class="content-section">
      <p>Select an option above to begin.</p>
    </div>

    <div id="adminStats" class="stats-cards"></div>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search users by name, phone, ID, course, level..." oninput="filterUsers()" />
    </div>

    <!-- 🌐 Website Content Editor Section -->
    <section id="contentEditorSection" style="display: none; margin-top: 40px;">
      <h2>Edit Website Content</h2>

      <label for="contentLang">Language:</label>
      <select id="contentLang">
        <option value="en">English</option>
        <option value="ar">Arabic</option>
      </select>

      <label for="contentPage" style="margin-left: 15px;">Page:</label>
      <select id="contentPage">
        <option value="index">Home (index)</option>
        <option value="about">About</option>
        <option value="contact">Contact</option>
        <!-- Add more pages as needed -->
      </select>

      <!-- ✅ This is the Quill Editor Container -->
      <div id="contentFields" style="margin-top: 20px;">
        <div id="quillEditor" style="height: 300px;"></div>
      </div>

      <button id="saveContentBtn" style="margin-top: 15px;">💾 Save Content</button>
      <div id="contentSaveStatus" style="margin-top: 10px;"></div>
    </section>
  </div>

  <!-- ✅ Load scripts at end of body for DOM safety -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Initialize Quill globally
      window.quill = new Quill('#quillEditor', {
        theme: 'snow',
        placeholder: 'Edit content here...'
      });
    });

    function showContentEditor() {
      document.getElementById('contentEditorSection').style.display = 'block';
    }
  </script>

  <script src="/frontend/admin/js/dashboard.js"></script>
</body>
</html>